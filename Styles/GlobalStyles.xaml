<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!-- =================================================================== -->
    <!-- TOOLBOX GLOBAL STYLES V2 - PALETTE DE COULEURS ENRICHIE           -->
    <!-- =================================================================== -->

    <!-- =============================================== -->
    <!-- PALETTE PRIMAIRE - BLEU SKY (votre couleur actuelle)             -->
    <!-- =============================================== -->
    
    <SolidColorBrush x:Key="ToolBoxPrimary50" Color="#F0F9FF" />
    <SolidColorBrush x:Key="ToolBoxPrimary100" Color="#E0F2FE" />
    <SolidColorBrush x:Key="ToolBoxPrimary200" Color="#BAE6FD" />
    <SolidColorBrush x:Key="ToolBoxPrimary300" Color="#7DD3FC" />
    <SolidColorBrush x:Key="ToolBoxPrimary400" Color="#38BDF8" />
    <SolidColorBrush x:Key="ToolBoxPrimary500" Color="#0EA5E9" />
    <SolidColorBrush x:Key="ToolBoxPrimary600" Color="#0284C7" />
    <SolidColorBrush x:Key="ToolBoxPrimary700" Color="#0369A1" />
    <SolidColorBrush x:Key="ToolBoxPrimary800" Color="#075985" />
    <SolidColorBrush x:Key="ToolBoxPrimary900" Color="#0C4A6E" />
    <SolidColorBrush x:Key="ToolBoxPrimary950" Color="#082F49" />

    <!-- =============================================== -->
    <!-- PALETTE SUCCESS - VERT EMERALD                 -->
    <!-- =============================================== -->
    
    <SolidColorBrush x:Key="ToolBoxSuccess50" Color="#ECFDF5" />
    <SolidColorBrush x:Key="ToolBoxSuccess100" Color="#D1FAE5" />
    <SolidColorBrush x:Key="ToolBoxSuccess200" Color="#A7F3D0" />
    <SolidColorBrush x:Key="ToolBoxSuccess300" Color="#6EE7B7" />
    <SolidColorBrush x:Key="ToolBoxSuccess400" Color="#34D399" />
    <SolidColorBrush x:Key="ToolBoxSuccess500" Color="#10B981" />
    <SolidColorBrush x:Key="ToolBoxSuccess600" Color="#059669" />
    <SolidColorBrush x:Key="ToolBoxSuccess700" Color="#047857" />
    <SolidColorBrush x:Key="ToolBoxSuccess800" Color="#065F46" />
    <SolidColorBrush x:Key="ToolBoxSuccess900" Color="#064E3B" />
    <SolidColorBrush x:Key="ToolBoxSuccess950" Color="#022C22" />

    <!-- =============================================== -->
    <!-- PALETTE WARNING - ORANGE AMBER                 -->
    <!-- =============================================== -->
    
    <SolidColorBrush x:Key="ToolBoxWarning50" Color="#FFFBEB" />
    <SolidColorBrush x:Key="ToolBoxWarning100" Color="#FEF3C7" />
    <SolidColorBrush x:Key="ToolBoxWarning200" Color="#FDE68A" />
    <SolidColorBrush x:Key="ToolBoxWarning300" Color="#FCD34D" />
    <SolidColorBrush x:Key="ToolBoxWarning400" Color="#FBBF24" />
    <SolidColorBrush x:Key="ToolBoxWarning500" Color="#F59E0B" />
    <SolidColorBrush x:Key="ToolBoxWarning600" Color="#D97706" />
    <SolidColorBrush x:Key="ToolBoxWarning700" Color="#B45309" />
    <SolidColorBrush x:Key="ToolBoxWarning800" Color="#92400E" />
    <SolidColorBrush x:Key="ToolBoxWarning900" Color="#78350F" />
    <SolidColorBrush x:Key="ToolBoxWarning950" Color="#451A03" />

    <!-- =============================================== -->
    <!-- PALETTE DANGER - ROUGE RED                     -->
    <!-- =============================================== -->
    
    <SolidColorBrush x:Key="ToolBoxDanger50" Color="#FEF2F2" />
    <SolidColorBrush x:Key="ToolBoxDanger100" Color="#FEE2E2" />
    <SolidColorBrush x:Key="ToolBoxDanger200" Color="#FECACA" />
    <SolidColorBrush x:Key="ToolBoxDanger300" Color="#FCA5A5" />
    <SolidColorBrush x:Key="ToolBoxDanger400" Color="#F87171" />
    <SolidColorBrush x:Key="ToolBoxDanger500" Color="#EF4444" />
    <SolidColorBrush x:Key="ToolBoxDanger600" Color="#DC2626" />
    <SolidColorBrush x:Key="ToolBoxDanger700" Color="#B91C1C" />
    <SolidColorBrush x:Key="ToolBoxDanger800" Color="#991B1B" />
    <SolidColorBrush x:Key="ToolBoxDanger900" Color="#7F1D1D" />
    <SolidColorBrush x:Key="ToolBoxDanger950" Color="#450A0A" />

    <!-- =============================================== -->
    <!-- PALETTE NEUTRALS - GRAYS MODERNES              -->
    <!-- =============================================== -->
    
    <SolidColorBrush x:Key="ToolBoxGray50" Color="#F9FAFB" />
    <SolidColorBrush x:Key="ToolBoxGray100" Color="#F3F4F6" />
    <SolidColorBrush x:Key="ToolBoxGray200" Color="#E5E7EB" />
    <SolidColorBrush x:Key="ToolBoxGray300" Color="#D1D5DB" />
    <SolidColorBrush x:Key="ToolBoxGray400" Color="#9CA3AF" />
    <SolidColorBrush x:Key="ToolBoxGray500" Color="#6B7280" />
    <SolidColorBrush x:Key="ToolBoxGray600" Color="#4B5563" />
    <SolidColorBrush x:Key="ToolBoxGray700" Color="#374151" />
    <SolidColorBrush x:Key="ToolBoxGray800" Color="#1F2937" />
    <SolidColorBrush x:Key="ToolBoxGray900" Color="#111827" />
    <SolidColorBrush x:Key="ToolBoxGray950" Color="#030712" />

    <!-- =============================================== -->
    <!-- ALIASES POUR COMPATIBILITÉ (vos noms actuels) -->
    <!-- =============================================== -->
    
    <!-- Couleurs principales (valeurs en dur pour garantir le chargement) -->
    <SolidColorBrush x:Key="ToolBoxPrimaryBrush" Color="#0EA5E9" />
    <SolidColorBrush x:Key="ToolBoxPrimaryHoverBrush" Color="#0284C7" />
    <SolidColorBrush x:Key="ToolBoxSuccessBrush" Color="#059669" />
    <SolidColorBrush x:Key="ToolBoxSuccessHoverBrush" Color="#047857" />
    <SolidColorBrush x:Key="ToolBoxWarningBrush" Color="#D97706" />
    <SolidColorBrush x:Key="ToolBoxWarningHoverBrush" Color="#B45309" />
    <SolidColorBrush x:Key="ToolBoxDangerBrush" Color="#DC2626" />
    <SolidColorBrush x:Key="ToolBoxDangerHoverBrush" Color="#B91C1C" />

    <!-- Couleurs utilitaires (valeurs en dur pour garantir le chargement) -->
    <SolidColorBrush x:Key="ToolBoxSecondaryBrush" Color="#6B7280" />
    <SolidColorBrush x:Key="ToolBoxSecondaryHoverBrush" Color="#E5E7EB" />
    <SolidColorBrush x:Key="ToolBoxLightBrush" Color="#F9FAFB" />
    <SolidColorBrush x:Key="ToolBoxLightHoverBrush" Color="#F3F4F6" />
    <SolidColorBrush x:Key="ToolBoxBorderBrush" Color="#D1D5DB" />
    <SolidColorBrush x:Key="ToolBoxBorderFocusBrush" Color="#7DD3FC" /> <!-- Alias pour Primary300 -->
    <SolidColorBrush x:Key="ToolBoxDisabledBrush" Color="#E5E7EB" />
    <SolidColorBrush x:Key="ToolBoxTextBrush" Color="#111827" />
    <SolidColorBrush x:Key="ToolBoxTextSecondaryBrush" Color="#6B7280" />
    <SolidColorBrush x:Key="ToolBoxTextDisabledBrush" Color="#9CA3AF" />
    <SolidColorBrush x:Key="ToolBoxTextWhiteBrush" Color="#FFFFFF" />
    
    <!-- =============================================== -->
    <!-- NOUVELLES COULEURS UTILITAIRES                 -->
    <!-- =============================================== -->
    
    <SolidColorBrush x:Key="ToolBoxFocusRing" Color="#7DD3FC" />
    <SolidColorBrush x:Key="ToolBoxFocusRingDark" Color="#3B82F6" />
    <SolidColorBrush x:Key="ToolBoxBackgroundPrimary" Color="#FFFFFF" />
    <SolidColorBrush x:Key="ToolBoxBackgroundSecondary" Color="#F9FAFB" />
    <SolidColorBrush x:Key="ToolBoxBackgroundTertiary" Color="#F3F4F6" />
    <SolidColorBrush x:Key="ToolBoxSurface" Color="#FFFFFF" />
    <SolidColorBrush x:Key="ToolBoxSurfaceHover" Color="#F9FAFB" />
    <SolidColorBrush x:Key="ToolBoxSurfaceActive" Color="#F3F4F6" />
    <SolidColorBrush x:Key="ToolBoxInfo" Color="#3B82F6" />
    <SolidColorBrush x:Key="ToolBoxInfoLight" Color="#DBEAFE" />

    <!-- =============================================== -->
    <!-- MARGES ET ESPACEMENTS ENRICHIS                 -->
    <!-- =============================================== -->
    
    <Thickness x:Key="SpacingXS">4</Thickness>
    <Thickness x:Key="SpacingSM">8</Thickness>
    <Thickness x:Key="SpacingMD">16</Thickness>
    <Thickness x:Key="SpacingLG">24</Thickness>
    <Thickness x:Key="SpacingXL">32</Thickness>
    <Thickness x:Key="SpacingXXL">48</Thickness>
    <Thickness x:Key="StandardMargin">8</Thickness>
    <Thickness x:Key="LargeMargin">16</Thickness>
    <Thickness x:Key="StandardPadding">8,6</Thickness>
    <Thickness x:Key="LargePadding">12,8</Thickness>
    <Thickness x:Key="ButtonPadding">12,8</Thickness>
    <Thickness x:Key="InputPadding">12,10</Thickness>
    <Thickness x:Key="CardPadding">16</Thickness>
    <Thickness x:Key="SectionPadding">24</Thickness>

    <!-- =============================================== -->
    <!-- RAYONS DE BORDURE STANDARDISÉS                 -->
    <!-- =============================================== -->
    
    <CornerRadius x:Key="RadiusXS">2</CornerRadius>
    <CornerRadius x:Key="RadiusSM">4</CornerRadius>
    <CornerRadius x:Key="RadiusMD">6</CornerRadius>
    <CornerRadius x:Key="RadiusLG">8</CornerRadius>
    <CornerRadius x:Key="RadiusXL">12</CornerRadius>
    <CornerRadius x:Key="RadiusXXL">16</CornerRadius>
    <CornerRadius x:Key="RadiusFull">9999</CornerRadius>
    <CornerRadius x:Key="StandardRadius">6</CornerRadius>
    <CornerRadius x:Key="LargeRadius">8</CornerRadius>

    <!-- =============================================== -->
    <!-- OMBRES MODERNES (pour futures améliorations)  -->
    <!-- =============================================== -->
    
    <DropShadowEffect x:Key="ShadowSM" Color="#00000010" BlurRadius="3" ShadowDepth="1" Direction="270" />
    <DropShadowEffect x:Key="ShadowMD" Color="#00000015" BlurRadius="6" ShadowDepth="2" Direction="270" />
    <DropShadowEffect x:Key="ShadowLG" Color="#00000020" BlurRadius="15" ShadowDepth="4" Direction="270" />
    <DropShadowEffect x:Key="ShadowXL" Color="#00000025" BlurRadius="25" ShadowDepth="8" Direction="270" />

    <!-- =============================================== -->
    <!-- STYLES DE TEXTE SIMPLES                        -->
    <!-- =============================================== -->
    
    <Style x:Key="ToolBoxHeaderText" TargetType="TextBlock">
        <Setter Property="FontSize" Value="24" />
        <Setter Property="FontWeight" Value="SemiBold" />
        <Setter Property="Foreground" Value="{StaticResource ToolBoxTextBrush}" />
        <Setter Property="Margin" Value="{StaticResource StandardMargin}" />
    </Style>
    
    <Style x:Key="ToolBoxSubHeaderText" TargetType="TextBlock">
        <Setter Property="FontSize" Value="18" />
        <Setter Property="FontWeight" Value="Medium" />
        <Setter Property="Foreground" Value="{StaticResource ToolBoxTextBrush}" />
        <Setter Property="Margin" Value="{StaticResource StandardMargin}" />
    </Style>
    
    <Style x:Key="ToolBoxBodyText" TargetType="TextBlock">
        <Setter Property="FontSize" Value="14" />
        <Setter Property="Foreground" Value="{StaticResource ToolBoxTextBrush}" />
        <Setter Property="TextWrapping" Value="Wrap" />
    </Style>
    
    <Style x:Key="ToolBoxSecondaryText" TargetType="TextBlock">
        <Setter Property="FontSize" Value="12" />
        <Setter Property="Foreground" Value="{StaticResource ToolBoxTextSecondaryBrush}" />
        <Setter Property="TextWrapping" Value="Wrap" />
    </Style>
    
    <Style x:Key="ToolBoxFormLabel" TargetType="Label">
        <Setter Property="FontSize" Value="14" />
        <Setter Property="FontWeight" Value="Medium" />
        <Setter Property="Foreground" Value="{StaticResource ToolBoxTextBrush}" />
        <Setter Property="VerticalAlignment" Value="Center" />
    </Style>

    <!-- =============================================== -->
    <!-- STYLES DE BOUTONS AMÉLIORÉS - VERSION 2.0      -->
    <!-- =============================================== -->

    <!-- =============================================== -->
    <!-- BOUTON PRIMARY (Modèle de référence validé)     -->
    <!-- =============================================== -->

    <Style x:Key="ToolBoxPrimaryButton" TargetType="Button">
        <Setter Property="FontSize" Value="14" />
        <Setter Property="FontWeight" Value="Medium" />
        <Setter Property="Height" Value="40" />
        <Setter Property="MinWidth" Value="80" />
        <Setter Property="Padding" Value="12,8" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="FocusVisualStyle" Value="{x:Null}" />
        <Setter Property="Background" Value="{StaticResource ToolBoxPrimary500}" />
        <Setter Property="Foreground" Value="White" />
        <Setter Property="BorderBrush" Value="{StaticResource ToolBoxPrimary500}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Grid>
                        <Border x:Name="FocusRing" Background="Transparent" BorderBrush="{StaticResource ToolBoxFocusRing}" BorderThickness="2" CornerRadius="8" Margin="-2" Opacity="0" />
                        <Border x:Name="ButtonBorder" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="6" SnapsToDevicePixels="True">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" />
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsKeyboardFocused" Value="True">
                            <Setter TargetName="FocusRing" Property="Opacity" Value="1" />
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource ToolBoxPrimary600}" />
                            <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="{StaticResource ToolBoxPrimary600}" />
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource ToolBoxPrimary700}" />
                            <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="{StaticResource ToolBoxPrimary700}" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource ToolBoxGray200}" />
                            <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="{StaticResource ToolBoxGray300}" />
                            <Setter Property="Foreground" Value="{StaticResource ToolBoxGray400}" />
                            <Setter Property="Cursor" Value="Arrow" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- =============================================== -->
    <!-- BOUTON SECONDARY                                -->
    <!-- =============================================== -->

    <Style x:Key="ToolBoxSecondaryButton" TargetType="Button">
        <Setter Property="FontSize" Value="14" />
        <Setter Property="FontWeight" Value="Medium" />
        <Setter Property="Height" Value="40" />
        <Setter Property="MinWidth" Value="80" />
        <Setter Property="Padding" Value="12,8" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="FocusVisualStyle" Value="{x:Null}" />
        <Setter Property="Background" Value="{StaticResource ToolBoxGray50}" />
        <Setter Property="Foreground" Value="{StaticResource ToolBoxGray900}" />
        <Setter Property="BorderBrush" Value="{StaticResource ToolBoxGray300}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Grid>
                        <Border x:Name="FocusRing" Background="Transparent" BorderBrush="{StaticResource ToolBoxFocusRing}" BorderThickness="2" CornerRadius="8" Margin="-2" Opacity="0" />
                        <Border x:Name="ButtonBorder" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="6" SnapsToDevicePixels="True">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" />
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsKeyboardFocused" Value="True">
                            <Setter TargetName="FocusRing" Property="Opacity" Value="1" />
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource ToolBoxGray100}" />
                            <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="{StaticResource ToolBoxGray400}" />
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource ToolBoxGray200}" />
                            <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="{StaticResource ToolBoxGray500}" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource ToolBoxGray200}" />
                            <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="{StaticResource ToolBoxGray300}" />
                            <Setter Property="Foreground" Value="{StaticResource ToolBoxGray400}" />
                            <Setter Property="Cursor" Value="Arrow" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- =============================================== -->
    <!-- BOUTON SUCCESS                                  -->
    <!-- =============================================== -->

    <Style x:Key="ToolBoxSuccessButton" TargetType="Button">
        <Setter Property="FontSize" Value="14" />
        <Setter Property="FontWeight" Value="Medium" />
        <Setter Property="Height" Value="40" />
        <Setter Property="MinWidth" Value="80" />
        <Setter Property="Padding" Value="12,8" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="FocusVisualStyle" Value="{x:Null}" />
        <Setter Property="Background" Value="{StaticResource ToolBoxSuccess600}" />
        <Setter Property="Foreground" Value="White" />
        <Setter Property="BorderBrush" Value="{StaticResource ToolBoxSuccess600}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Grid>
                        <Border x:Name="FocusRing" Background="Transparent" BorderBrush="{StaticResource ToolBoxFocusRing}" BorderThickness="2" CornerRadius="8" Margin="-2" Opacity="0" />
                        <Border x:Name="ButtonBorder" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="6" SnapsToDevicePixels="True">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" />
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsKeyboardFocused" Value="True">
                            <Setter TargetName="FocusRing" Property="Opacity" Value="1" />
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource ToolBoxSuccess700}" />
                            <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="{StaticResource ToolBoxSuccess700}" />
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource ToolBoxSuccess800}" />
                            <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="{StaticResource ToolBoxSuccess800}" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource ToolBoxGray200}" />
                            <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="{StaticResource ToolBoxGray300}" />
                            <Setter Property="Foreground" Value="{StaticResource ToolBoxGray400}" />
                            <Setter Property="Cursor" Value="Arrow" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- =============================================== -->
    <!-- BOUTON WARNING                                  -->
    <!-- =============================================== -->

    <Style x:Key="ToolBoxWarningButton" TargetType="Button">
        <Setter Property="FontSize" Value="14" />
        <Setter Property="FontWeight" Value="Medium" />
        <Setter Property="Height" Value="40" />
        <Setter Property="MinWidth" Value="80" />
        <Setter Property="Padding" Value="12,8" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="FocusVisualStyle" Value="{x:Null}" />
        <Setter Property="Background" Value="{StaticResource ToolBoxWarning600}" />
        <Setter Property="Foreground" Value="White" />
        <Setter Property="BorderBrush" Value="{StaticResource ToolBoxWarning600}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Grid>
                        <Border x:Name="FocusRing" Background="Transparent" BorderBrush="{StaticResource ToolBoxFocusRing}" BorderThickness="2" CornerRadius="8" Margin="-2" Opacity="0" />
                        <Border x:Name="ButtonBorder" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="6" SnapsToDevicePixels="True">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" />
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsKeyboardFocused" Value="True">
                            <Setter TargetName="FocusRing" Property="Opacity" Value="1" />
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource ToolBoxWarning700}" />
                            <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="{StaticResource ToolBoxWarning700}" />
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource ToolBoxWarning800}" />
                            <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="{StaticResource ToolBoxWarning800}" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource ToolBoxGray200}" />
                            <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="{StaticResource ToolBoxGray300}" />
                            <Setter Property="Foreground" Value="{StaticResource ToolBoxGray400}" />
                            <Setter Property="Cursor" Value="Arrow" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- =============================================== -->
    <!-- BOUTON DANGER                                   -->
    <!-- =============================================== -->

    <Style x:Key="ToolBoxDangerButton" TargetType="Button">
        <Setter Property="FontSize" Value="14" />
        <Setter Property="FontWeight" Value="Medium" />
        <Setter Property="Height" Value="40" />
        <Setter Property="MinWidth" Value="80" />
        <Setter Property="Padding" Value="12,8" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="FocusVisualStyle" Value="{x:Null}" />
        <Setter Property="Background" Value="{StaticResource ToolBoxDanger600}" />
        <Setter Property="Foreground" Value="White" />
        <Setter Property="BorderBrush" Value="{StaticResource ToolBoxDanger600}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Grid>
                        <Border x:Name="FocusRing" Background="Transparent" BorderBrush="{StaticResource ToolBoxFocusRing}" BorderThickness="2" CornerRadius="8" Margin="-2" Opacity="0" />
                        <Border x:Name="ButtonBorder" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="6" SnapsToDevicePixels="True">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" />
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsKeyboardFocused" Value="True">
                            <Setter TargetName="FocusRing" Property="Opacity" Value="1" />
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource ToolBoxDanger700}" />
                            <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="{StaticResource ToolBoxDanger700}" />
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource ToolBoxDanger800}" />
                            <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="{StaticResource ToolBoxDanger800}" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource ToolBoxGray200}" />
                            <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="{StaticResource ToolBoxGray300}" />
                            <Setter Property="Foreground" Value="{StaticResource ToolBoxGray400}" />
                            <Setter Property="Cursor" Value="Arrow" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- =============================================== -->
    <!-- BOUTON OUTLINE                                  -->
    <!-- =============================================== -->

    <Style x:Key="ToolBoxOutlineButton" TargetType="Button">
        <Setter Property="FontSize" Value="14" />
        <Setter Property="FontWeight" Value="Medium" />
        <Setter Property="Height" Value="40" />
        <Setter Property="MinWidth" Value="80" />
        <Setter Property="Padding" Value="12,8" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="FocusVisualStyle" Value="{x:Null}" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Foreground" Value="{StaticResource ToolBoxPrimary600}" />
        <Setter Property="BorderBrush" Value="{StaticResource ToolBoxPrimary600}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Grid>
                        <Border x:Name="FocusRing" Background="Transparent" BorderBrush="{StaticResource ToolBoxFocusRing}" BorderThickness="2" CornerRadius="8" Margin="-2" Opacity="0" />
                        <Border x:Name="ButtonBorder" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="6" SnapsToDevicePixels="True">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" />
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsKeyboardFocused" Value="True">
                            <Setter TargetName="FocusRing" Property="Opacity" Value="1" />
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource ToolBoxPrimary50}" />
                            <Setter Property="Foreground" Value="{StaticResource ToolBoxPrimary700}" />
                            <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="{StaticResource ToolBoxPrimary700}" />
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource ToolBoxPrimary100}" />
                            <Setter Property="Foreground" Value="{StaticResource ToolBoxPrimary800}" />
                            <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="{StaticResource ToolBoxPrimary800}" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="ButtonBorder" Property="Background" Value="Transparent" />
                            <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="{StaticResource ToolBoxGray300}" />
                            <Setter Property="Foreground" Value="{StaticResource ToolBoxGray400}" />
                            <Setter Property="Cursor" Value="Arrow" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>



    <!-- =============================================== -->
    <!-- STYLES DE CHAMPS AVEC TEMPLATES CORRIGÉS       -->
    <!-- =============================================== -->
    
    <Style x:Key="ToolBoxTextBox" TargetType="TextBox">
        <Setter Property="FontSize" Value="14" />
        <Setter Property="Foreground" Value="{StaticResource ToolBoxTextBrush}" />
        <Setter Property="Background" Value="White" />
        <Setter Property="BorderBrush" Value="{StaticResource ToolBoxBorderBrush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Padding" Value="8,6" />
        <Setter Property="Height" Value="36" />
        <Setter Property="VerticalContentAlignment" Value="Center" /> <!-- On le garde ici pour le principe -->
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="TextBox">
                    <Border x:Name="TextBoxBorder" 
                            Background="{TemplateBinding Background}" 
                            BorderBrush="{TemplateBinding BorderBrush}" 
                            BorderThickness="{TemplateBinding BorderThickness}" 
                            CornerRadius="6"
                            SnapsToDevicePixels="True">
                        <!-- CORRECTION: On met le padding ici, et on centre le ScrollViewer -->
                        <ScrollViewer x:Name="PART_ContentHost"
                                    Padding="{TemplateBinding Padding}"
                                    VerticalAlignment="Center"
                                    Focusable="False"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <!-- Triggers inchangés... -->
                        <Trigger Property="IsFocused" Value="True">
                            <Setter TargetName="TextBoxBorder" Property="BorderBrush" Value="{StaticResource ToolBoxBorderFocusBrush}" />
                            <Setter TargetName="TextBoxBorder" Property="BorderThickness" Value="2" />
                            <!-- On ajuste le padding pour compenser la bordure -->
                            <Setter TargetName="PART_ContentHost" Property="Padding" Value="7,5,7,5" />
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="TextBoxBorder" Property="BorderBrush" Value="{StaticResource ToolBoxBorderFocusBrush}" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="TextBoxBorder" Property="Background" Value="{StaticResource ToolBoxDisabledBrush}" />
                            <Setter TargetName="TextBoxBorder" Property="BorderBrush" Value="{StaticResource ToolBoxDisabledBrush}" />
                            <Setter Property="Foreground" Value="{StaticResource ToolBoxTextDisabledBrush}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="ToolBoxPasswordBox" TargetType="PasswordBox">
        <Setter Property="FontSize" Value="14" />
        <Setter Property="Foreground" Value="{StaticResource ToolBoxTextBrush}" />
        <Setter Property="Background" Value="White" />
        <Setter Property="BorderBrush" Value="{StaticResource ToolBoxBorderBrush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Padding" Value="8,6" />
        <Setter Property="Height" Value="36" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="PasswordBox">
                    <Border x:Name="TextBoxBorder" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="6" SnapsToDevicePixels="True">
                        <ScrollViewer x:Name="PART_ContentHost" Padding="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Focusable="False"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsFocused" Value="True">
                            <Setter TargetName="TextBoxBorder" Property="BorderBrush" Value="{StaticResource ToolBoxBorderFocusBrush}" />
                            <Setter TargetName="TextBoxBorder" Property="BorderThickness" Value="2" />
                            <Setter TargetName="PART_ContentHost" Property="Padding" Value="7,5,7,5" />
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="TextBoxBorder" Property="BorderBrush" Value="{StaticResource ToolBoxBorderFocusBrush}" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="TextBoxBorder" Property="Background" Value="{StaticResource ToolBoxDisabledBrush}" />
                            <Setter TargetName="TextBoxBorder" Property="BorderBrush" Value="{StaticResource ToolBoxDisabledBrush}" />
                            <Setter Property="Foreground" Value="{StaticResource ToolBoxTextDisabledBrush}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    
    <Style x:Key="ToolBoxMultilineTextBox" TargetType="TextBox">
        <Setter Property="FontSize" Value="14" />
        <Setter Property="Foreground" Value="{StaticResource ToolBoxTextBrush}" />
        <Setter Property="Background" Value="White" />
        <Setter Property="BorderBrush" Value="{StaticResource ToolBoxBorderBrush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Padding" Value="8,6" />
        <!-- PAS DE HAUTEUR FIXE ICI -->
        <Setter Property="VerticalContentAlignment" Value="Top" /> <!-- Texte aligné en haut -->
        <Setter Property="AcceptsReturn" Value="True" />
        <Setter Property="TextWrapping" Value="Wrap" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="TextBox">
                    <Border x:Name="TextBoxBorder" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="6" SnapsToDevicePixels="True">
                        <!-- Le VerticalAlignment du ScrollViewer est maintenant Top -->
                        <ScrollViewer x:Name="PART_ContentHost" Padding="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Focusable="False"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsFocused" Value="True">
                            <Setter TargetName="TextBoxBorder" Property="BorderBrush" Value="{StaticResource ToolBoxBorderFocusBrush}" />
                            <Setter TargetName="TextBoxBorder" Property="BorderThickness" Value="2" />
                            <Setter TargetName="PART_ContentHost" Property="Padding" Value="7,5,7,5" />
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="TextBoxBorder" Property="BorderBrush" Value="{StaticResource ToolBoxBorderFocusBrush}" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="TextBoxBorder" Property="Background" Value="{StaticResource ToolBoxDisabledBrush}" />
                            <Setter TargetName="TextBoxBorder" Property="BorderBrush" Value="{StaticResource ToolBoxDisabledBrush}" />
                            <Setter Property="Foreground" Value="{StaticResource ToolBoxTextDisabledBrush}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="ToolBoxComboBox" TargetType="ComboBox">
        <Setter Property="Height" Value="36" />
        <Setter Property="Padding" Value="8,6" />
        <Setter Property="FontSize" Value="14" />
        <Setter Property="Foreground" Value="{StaticResource ToolBoxTextBrush}" />
        <Setter Property="Background" Value="White" />
        <Setter Property="BorderBrush" Value="{StaticResource ToolBoxBorderBrush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ComboBox">
                    <Grid>
                        <!-- Couche 1: La Bordure principale. Elle définit l'apparence. -->
                        <Border x:Name="MainBorder" 
                                Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" 
                                BorderThickness="{TemplateBinding BorderThickness}" 
                                CornerRadius="6"
                                SnapsToDevicePixels="True"/>

                        <!-- Couche 2: Le bouton invisible pour l'interaction. Il ne DOIT PAS avoir de fond de survol. -->
                        <ToggleButton x:Name="ToggleButton"
                                    IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                    Focusable="False"
                                    ClickMode="Press">
                            <ToggleButton.Template>
                                <ControlTemplate TargetType="ToggleButton">
                                    <Border Background="Transparent" />
                                </ControlTemplate>
                            </ToggleButton.Template>
                        </ToggleButton>
                        
                        <!-- Couche 3: La flèche visuelle -->
                        <Path x:Name="Arrow" IsHitTestVisible="False" Fill="{StaticResource ToolBoxTextSecondaryBrush}" HorizontalAlignment="Right" VerticalAlignment="Center" Data="M 0 0 L 4 4 L 8 0 Z" Margin="0,0,8,0"/>
                            
                        <!-- Couche 4: Le texte (non-éditable), PAR-DESSUS le reste. -->
                        <ContentPresenter x:Name="ContentSite" 
                                        IsHitTestVisible="False"
                                        Content="{TemplateBinding SelectionBoxItem}" 
                                        ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}" 
                                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}" 
                                        HorizontalAlignment="Left" 
                                        Margin="{TemplateBinding Padding}" />

                        <!-- Couche 5: Le texte (éditable), PAR-DESSUS le reste. -->
                        <TextBox x:Name="PART_EditableTextBox" 
                                Visibility="Hidden"
                                Background="Transparent" 
                                BorderThickness="0" 
                                Focusable="True" 
                                FontSize="{TemplateBinding FontSize}" 
                                Foreground="{TemplateBinding Foreground}" 
                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}" 
                                HorizontalAlignment="Left" 
                                Margin="{TemplateBinding Padding}" 
                                IsReadOnly="{TemplateBinding IsReadOnly}"/>

                        <Popup x:Name="PART_Popup" Placement="Bottom" IsOpen="{Binding IsDropDownOpen, RelativeSource={RelativeSource TemplatedParent}}" AllowsTransparency="True" Focusable="False" PopupAnimation="Slide">
                            <Grid MinWidth="{TemplateBinding ActualWidth}" MaxHeight="{TemplateBinding MaxDropDownHeight}">
                                <Border Background="White" BorderBrush="{StaticResource ToolBoxBorderBrush}" BorderThickness="1" CornerRadius="6" Margin="0,4,0,0"/>
                                <ScrollViewer Margin="4,8,4,4">
                                    <StackPanel IsItemsHost="True"/>
                                </ScrollViewer>
                            </Grid>
                        </Popup>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <!-- Les triggers ne modifient que la BORDURE EXTERNE -->
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="MainBorder" Property="BorderBrush" Value="{StaticResource ToolBoxBorderFocusBrush}" />
                        </Trigger>
                        <Trigger Property="IsKeyboardFocusWithin" Value="True">
                            <Setter TargetName="MainBorder" Property="BorderBrush" Value="{StaticResource ToolBoxBorderFocusBrush}" />
                            <Setter TargetName="MainBorder" Property="BorderThickness" Value="2" />
                            <Setter TargetName="ContentSite" Property="Margin" Value="7,5,7,5"/>
                            <Setter TargetName="PART_EditableTextBox" Property="Margin" Value="7,5,7,5"/>
                        </Trigger>
                        <Trigger Property="IsEditable" Value="true">
                            <Setter TargetName="PART_EditableTextBox" Property="Visibility" Value="Visible"/>
                            <Setter TargetName="ContentSite" Property="Visibility" Value="Hidden"/>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="MainBorder" Property="Background" Value="{StaticResource ToolBoxDisabledBrush}"/>
                            <Setter Property="Foreground" Value="{StaticResource ToolBoxTextDisabledBrush}"/>
                            <Setter TargetName="Arrow" Property="Fill" Value="{StaticResource ToolBoxTextDisabledBrush}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    
    
    <!-- Style pour ComboBox éditable et filtrable -->
    <Style x:Key="ToolBoxEditableComboBox" TargetType="ComboBox" BasedOn="{StaticResource ToolBoxComboBox}">
        <Setter Property="IsEditable" Value="True" />
        <Setter Property="IsTextSearchEnabled" Value="True" />
    </Style>

    <!-- =============================================== -->
    <!-- STYLES DE CONTRÔLES SIMPLES                    -->
    <!-- =============================================== -->
    
    <Style x:Key="ToolBoxCheckBox" TargetType="CheckBox">
        <Setter Property="FontSize" Value="14" />
        <Setter Property="Foreground" Value="{StaticResource ToolBoxTextBrush}" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="Margin" Value="0,0,0,4" />
    </Style>
    
    <Style x:Key="ToolBoxRadioButton" TargetType="RadioButton">
        <Setter Property="FontSize" Value="14" />
        <Setter Property="Foreground" Value="{StaticResource ToolBoxTextBrush}" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="Margin" Value="0,0,0,4" />
    </Style>

    <!-- =============================================== -->
    <!-- STYLES DE CONTENEURS SIMPLES                   -->
    <!-- =============================================== -->
    
    <Style x:Key="ToolBoxWindow" TargetType="Window">
        <Setter Property="Background" Value="White" />
        <Setter Property="FontFamily" Value="Segoe UI" />
        <Setter Property="FontSize" Value="14" />
    </Style>
    
    <Style x:Key="ToolBoxCard" TargetType="Border">
        <Setter Property="Background" Value="White" />
        <Setter Property="BorderBrush" Value="{StaticResource ToolBoxBorderBrush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="CornerRadius" Value="8" />
        <Setter Property="Padding" Value="{StaticResource LargeMargin}" />
        <Setter Property="Margin" Value="{StaticResource StandardMargin}" />
    </Style>
    
    <Style x:Key="ToolBoxCardFlat" TargetType="Border">
        <Setter Property="Background" Value="White" />
        <Setter Property="BorderBrush" Value="{StaticResource ToolBoxBorderBrush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="CornerRadius" Value="0" />
        <Setter Property="Padding" Value="{StaticResource LargeMargin}" />
        <Setter Property="Margin" Value="0" />
    </Style>
    
    <Style x:Key="ToolBoxSection" TargetType="GroupBox">
        <Setter Property="FontSize" Value="14" />
        <Setter Property="FontWeight" Value="Medium" />
        <Setter Property="Foreground" Value="{StaticResource ToolBoxTextBrush}" />
        <Setter Property="BorderBrush" Value="{StaticResource ToolBoxBorderBrush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Padding" Value="{StaticResource LargeMargin}" />
        <Setter Property="Margin" Value="{StaticResource StandardMargin}" />
    </Style>
    
    <Style x:Key="ToolBoxTabControl" TargetType="TabControl">
        <Setter Property="Background" Value="White" />
        <Setter Property="BorderBrush" Value="{StaticResource ToolBoxBorderBrush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Padding" Value="{StaticResource StandardMargin}" />
    </Style>
    
    <Style x:Key="ToolBoxTabItem" TargetType="TabItem">
        <Setter Property="FontSize" Value="14" />
        <Setter Property="FontWeight" Value="Medium" />
        <Setter Property="Foreground" Value="{StaticResource ToolBoxTextSecondaryBrush}" />
        <Setter Property="Padding" Value="16,12" />
    </Style>

    <!-- =============================================== -->
    <!-- UTILITAIRES                                     -->
    <!-- =============================================== -->
    
    <Style x:Key="ToolBoxBadge" TargetType="Border">
        <Setter Property="Background" Value="{StaticResource ToolBoxPrimaryBrush}" />
        <Setter Property="CornerRadius" Value="12" />
        <Setter Property="Padding" Value="8,4" />
        <Setter Property="HorizontalAlignment" Value="Left" />
        <Setter Property="VerticalAlignment" Value="Center" />
    </Style>
    
    <Style x:Key="ToolBoxSeparator" TargetType="Separator">
        <Setter Property="Background" Value="{StaticResource ToolBoxBorderBrush}" />
        <Setter Property="Height" Value="1" />
        <Setter Property="Margin" Value="{StaticResource LargeMargin}" />
    </Style>

    <!-- =============================================== -->
    <!-- STYLE DATAGRID                                 -->
    <!-- =============================================== -->

    <Style x:Key="ToolBoxDataGrid" TargetType="DataGrid">
        <Setter Property="Background" Value="White" />
        <Setter Property="BorderBrush" Value="{StaticResource ToolBoxBorderBrush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="FontSize" Value="14" />
        <Setter Property="Foreground" Value="{StaticResource ToolBoxTextBrush}" />
        <Setter Property="GridLinesVisibility" Value="Horizontal" />
        <Setter Property="HorizontalGridLinesBrush" Value="{StaticResource ToolBoxGray200}" />
        <Setter Property="VerticalGridLinesBrush" Value="{StaticResource ToolBoxGray200}" />
        <Setter Property="HeadersVisibility" Value="Column" />
        <Setter Property="AlternatingRowBackground" Value="{StaticResource ToolBoxGray50}" />
        <Setter Property="RowBackground" Value="White" />
        <Setter Property="SelectionMode" Value="Single" />
        <Setter Property="CanUserAddRows" Value="False" />
        <Setter Property="CanUserDeleteRows" Value="False" />
        <Setter Property="AutoGenerateColumns" Value="False" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="DataGrid">
                    <Border x:Name="DataGridBorder" 
                            Background="{TemplateBinding Background}" 
                            BorderBrush="{TemplateBinding BorderBrush}" 
                            BorderThickness="{TemplateBinding BorderThickness}" 
                            CornerRadius="6"
                            SnapsToDevicePixels="True">
                        <ScrollViewer x:Name="DG_ScrollViewer" Focusable="False">
                            <ScrollViewer.Template>
                                <ControlTemplate TargetType="ScrollViewer">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        
                                        <DataGridColumnHeadersPresenter x:Name="PART_ColumnHeadersPresenter" 
                                                                    Grid.Column="1" Grid.Row="0"
                                                                    Visibility="{Binding HeadersVisibility, ConverterParameter={x:Static DataGridHeadersVisibility.Column}, Converter={x:Static DataGrid.HeadersVisibilityConverter}, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}"/>
                                        
                                        <ScrollContentPresenter x:Name="PART_ScrollContentPresenter" 
                                                            Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="2"
                                                            CanContentScroll="{TemplateBinding CanContentScroll}"/>
                                        
                                        <ScrollBar x:Name="PART_VerticalScrollBar" 
                                                Grid.Column="2" Grid.Row="1"
                                                Orientation="Vertical" 
                                                ViewportSize="{TemplateBinding ScrollableHeight}" 
                                                Maximum="{TemplateBinding ExtentHeight}" 
                                                Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}" 
                                                Value="{Binding VerticalOffset, Mode=OneWay, RelativeSource={RelativeSource TemplatedParent}}"/>
                                        
                                        <ScrollBar x:Name="PART_HorizontalScrollBar" 
                                                Grid.Column="1" Grid.Row="2"
                                                Orientation="Horizontal" 
                                                ViewportSize="{TemplateBinding ScrollableWidth}" 
                                                Maximum="{TemplateBinding ExtentWidth}" 
                                                Visibility="{TemplateBinding ComputedHorizontalScrollBarVisibility}" 
                                                Value="{Binding HorizontalOffset, Mode=OneWay, RelativeSource={RelativeSource TemplatedParent}}"/>
                                    </Grid>
                                </ControlTemplate>
                            </ScrollViewer.Template>
                            <ItemsPresenter SnapsToDevicePixels="True"/>
                        </ScrollViewer>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsKeyboardFocusWithin" Value="True">
                            <Setter TargetName="DataGridBorder" Property="BorderBrush" Value="{StaticResource ToolBoxBorderFocusBrush}" />
                            <Setter TargetName="DataGridBorder" Property="BorderThickness" Value="2" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="DataGridBorder" Property="Background" Value="{StaticResource ToolBoxDisabledBrush}" />
                            <Setter Property="Foreground" Value="{StaticResource ToolBoxTextDisabledBrush}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Style pour les en-têtes de colonnes DataGrid - Application automatique -->
    <Style TargetType="DataGridColumnHeader">
        <Setter Property="Background" Value="{StaticResource ToolBoxGray100}" />
        <Setter Property="BorderBrush" Value="{StaticResource ToolBoxBorderBrush}" />
        <Setter Property="BorderThickness" Value="0,0,1,1" />
        <Setter Property="Padding" Value="12,8" />
        <Setter Property="FontSize" Value="14" />
        <Setter Property="FontWeight" Value="Medium" />
        <Setter Property="Foreground" Value="{StaticResource ToolBoxTextBrush}" />
        <Setter Property="HorizontalContentAlignment" Value="Left" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="DataGridColumnHeader">
                    <Border Background="{TemplateBinding Background}" 
                            BorderBrush="{TemplateBinding BorderBrush}" 
                            BorderThickness="{TemplateBinding BorderThickness}"
                            SnapsToDevicePixels="True">
                        <ContentPresenter Margin="{TemplateBinding Padding}" 
                                        HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" 
                                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="{StaticResource ToolBoxGray200}" />
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter Property="Background" Value="{StaticResource ToolBoxGray300}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Style pour les lignes DataGrid - Application automatique -->
    <Style TargetType="DataGridRow">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Margin" Value="0" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="DataGridRow">
                    <Border x:Name="RowBorder" 
                            Background="{TemplateBinding Background}"
                            BorderThickness="0"
                            SnapsToDevicePixels="True">
                        <DataGridCellsPresenter />
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="RowBorder" Property="Background" Value="{StaticResource ToolBoxPrimary50}" />
                        </Trigger>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter TargetName="RowBorder" Property="Background" Value="{StaticResource ToolBoxPrimary100}" />
                        </Trigger>
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="IsSelected" Value="True"/>
                                <Condition Property="IsMouseOver" Value="True"/>
                            </MultiTrigger.Conditions>
                            <Setter TargetName="RowBorder" Property="Background" Value="{StaticResource ToolBoxPrimary200}" />
                        </MultiTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Style pour les cellules DataGrid - Application automatique -->
    <Style TargetType="DataGridCell">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="Padding" Value="12,8" />
        <Setter Property="FontSize" Value="14" />
        <Setter Property="Foreground" Value="{StaticResource ToolBoxTextBrush}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="DataGridCell">
                    <Border Background="{TemplateBinding Background}" 
                            BorderBrush="{TemplateBinding BorderBrush}" 
                            BorderThickness="{TemplateBinding BorderThickness}"
                            SnapsToDevicePixels="True">
                        <ContentPresenter Margin="{TemplateBinding Padding}" 
                                        VerticalAlignment="Center" />
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <Trigger Property="IsKeyboardFocusWithin" Value="True">
                <Setter Property="BorderBrush" Value="{StaticResource ToolBoxBorderFocusBrush}" />
                <Setter Property="BorderThickness" Value="1" />
            </Trigger>
        </Style.Triggers>
    </Style>
</ResourceDictionary>